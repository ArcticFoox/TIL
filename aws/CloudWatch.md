# CloudWatch

CloudWatch는 AWS 인프라와 애플리케이션을 모니터링, 분석, 자동 대응하기 위한 종합 관제 시스템

# 역할

## 모니터링

서버, 애플리케이션, 네트워크 리소스의 상태와 성능을 실시간 확인

## 로깅

시스템 로그, 애플리케이션 로그를 수집하고 분석

## 자동대응

문제가 감지되면 알림을 보내거나 자동으로 조치를 취함

# 구성요소

| 구성 요소 | 설명 | 예시 |
| --- | --- | --- |
| **Metrics** | 리소스의 수치 정보 (모니터링 지표) | CPU 사용률, 디스크 I/O, 메모리 |
| **Logs** | 로그 데이터 저장소 | EC2에서 발생한 로그, 애플리케이션 로그 |
| **Alarms** | 임계값 초과 여부 감시 후 알림 | CPU가 80% 넘으면 이메일 |
| **Dashboard** | 지표와 로그를 시각적으로 보여줌 | 시스템 상태 대시보드 |
| **Events** | 특정 이벤트 발생 시 자동 처리 | 인스턴스 종료 → Lambda 호출 |
| **Insights** | 로그 분석 도구 | 에러 로그 패턴 찾기 |
| **Contributor Insights** | 어떤 리소스가 문제를 만들었는지 분석 | 어느 사용자가 500에러 많이 발생시키는지 |

# Metrics

## 기본수집

EC2: CPU, Network, Disk I/O

RDS, ELB, S3 등

## 사용자 정의 지표

ex) 주문 수, 로그인 횟수, API 호출 실패 수 등 직접 전송 가능(AWS SDK로 PutMetricData 호출을 통해)

# Logs

EC2의 /var/log 안에 있는 로그들을 수집

Lambda 함수의 로그 자동 수집

Springboot, Node.js 등 애플리케이션 로그 전송 가능

로그 검색, 필터링, 패턴 매칭

# Alarm

모니터링 지표를 기준으로 조건 설정

조건 만족하면 SNS 주제를 통해 알림 전송

EC2 재시작 등 자동 작업 실행